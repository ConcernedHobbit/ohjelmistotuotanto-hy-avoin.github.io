<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Viikko 7</title>
  <meta name="description" content="">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/tehtavat7/">
  <link rel="alternate" type="application/rss+xml" title="Ohjelmistotuotanto avoin yliopisto 2021" href="/feed.xml">

  
</head>


  <body>
    
    <header class="site-header" role="banner">

  <div class="wrapper">
    
    
    <a class="site-title" href="/">Ohjelmistotuotanto avoin yliopisto 2021</a>
    
    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <a class="page-link" href="/osa0/">Osa 0</a>
            
          
            
            
            <a class="page-link" href="/osa1/">Osa 1</a>
            
          
            
            
            <a class="page-link" href="/osa2/">Osa 2</a>
            
          
            
            
            <a class="page-link" href="/osa3/">Osa 3</a>
            
          
            
            
            <a class="page-link" href="/osa4/">Osa 4</a>
            
          
            
            
          
            
            
            <a class="page-link" href="/osa5/">Osa 5</a>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
            <a class="page-link" href="/tehtavat/">Tehtävät</a>
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
            
            
          
          
        </div>
      </nav>
    

    
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title"></h1>
  </header>

  <div class="post-content">
    <h2 id="viikko-7">Viikko 7</h2>

<p><em>Alla olevien tehtävien deadline on maanantaina 14.12. klo 23:59</em></p>

<p>Apua tehtävien tekoon kurssin <a href="https://telegram.me/ohjelmistotuotanto">Telegram</a>-kanavalla sekä zoom-pajassa:</p>

<ul>
  <li>Maanantai 14-16 <a href="https://helsinki.zoom.us/j/63962392550?pwd=RzluTjZWYmNLb0g4bjRxb0ZlckRkUT09">zoom</a></li>
  <li>Perjantai 10-12 <a href="https://helsinki.zoom.us/j/64396759243">zoom</a></li>
</ul>

<p>Muista myös tämän viikon <a href="https://study.cs.helsinki.fi/stats/courses/ohtu2020/quiz/7">monivalintatehtävät</a>, joiden deadline on poikkeuksellisesti perjantaina 18.12 klo 23:59:00.</p>

<h3 id="typoja-tai-epäselvyyksiä-tehtävissä">Typoja tai epäselvyyksiä tehtävissä?</h3>

<p>Tee <a href="/osa0#typoja-materiaalissa">korjausehdotus</a> editoimalla <a href="https://github.com/ohjelmistotuotanto-hy-avoin/ohjelmistotuotanto-hy-avoin.github.io/blob/master/tehtavat7.md">tätä</a> tiedostoa GitHubissa.</p>

<h3 id="tehtävien-palauttaminen">Tehtävien palauttaminen</h3>

<p>Tehtävät palautetaan GitHubiin, sekä merkitsemällä tehdyt tehtävät palautussovellukseen <a href="https://study.cs.helsinki.fi/stats/courses/ohtu2020">https://study.cs.helsinki.fi/stats/courses/ohtu2020</a></p>

<p>Katso tarkempi ohje palautusrepositorioita koskien <a href="/tehtavat1#teht%C3%A4vien-palautusrepositoriot">täältä</a>.</p>

<h3 id="1-git-stash-versionhallinta">1. git: stash [versionhallinta]</h3>

<p><em>tehtävien 1 ja 2 ei tarvitse näkyä palautuksessa, riittää kun teet tehtävät</em></p>

<p>Lue <a href="https://git-scm.com/book/en/v2/Git-Tools-Stashing-and-Cleaning">https://git-scm.com/book/en/v2/Git-Tools-Stashing-and-Cleaning</a> kohtaan <em>Creative stashing</em> asti.</p>

<p>Oletetaan että olet repositoriossa, jossa on ainakin kaksi branchia: master ja joku toinen (kutsutaan sitä tässä nimellä <strong>toinen</strong>).</p>

<ul>
  <li>ollessasi master-branchissa tee branchissa oleviin tiedostoihin muutoksia, joita lisäät staging-alueelle ja joitain muutoksia joita et vielä “äddää”, komennon <em>git status</em> tuloksen tulee näyttää siis suunilleen seuraavalta</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)

	new file:   README.md
    modified:   src/main/java/Main.java

Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

	modified:   src/main/java/Olutvarasto.java              
</code></pre></div></div>

<ul>
  <li>pomosi käskee sinua välittömästi tekemään pari muutosta branchiin <strong>toinen</strong>. Et kuitenkaan halua vielä comittoida masterissa olevia muutoksia</li>
  <li>jos siirryt branchiin <strong>toinen</strong> tekemättä comittia, tulee hirveä sotku, sillä muutokset pysyvät muutoksina toisessakin branchissa</li>
  <li><strong>git stash</strong> pelastaa tästä tilanteesta, eli stashaa masterissa olevat muutoset
    <ul>
      <li>kokeile ennen ja jälkeen stash-komennon komentoa <code>git status</code></li>
    </ul>
  </li>
  <li>siirry branchiin toinen, tee sinne joku muutos jonka committaat</li>
  <li>palaa jälleen masteriin</li>
  <li>palauta stashatyt muutokset komennolla <code>git stash apply</code>
    <ul>
      <li>varmista että muutokset palasivat</li>
      <li>kuten huomaat, staging-alueelle jo lisätty muutos ei palaa staging-alueelle, vaan joudut lisäämään sen uudelleen</li>
      <li>jos edellisessä komento olisi annettu muodossa <code>git stash apply --index</code>, olisi tilanne palautunut täysin ennalleen</li>
    </ul>
  </li>
</ul>

<h3 id="2-git-branchin-siirtäminen-versionhallinta">2. git: branchin “siirtäminen” [versionhallinta]</h3>

<p><em>tehtävien 1 ja 2 ei tarvitse näkyä palautuksessa, riittää kun teet tehtävät</em></p>

<ul>
  <li>tee repoosi branchi nimeltä haara ja tee masteriin ja haaraan committeja siten että saat aikaan seuraavankaltaisen tilanteen:</li>
</ul>

<pre>
    ____master
__/
  \_____haara
</pre>

<ul>
  <li>eli sekä master että haara ovat edenneet muutamien commitien verran haarautumisen tapahduttua
    <ul>
      <li>huom: komennolla <code>gitk --all</code> näet kaikki haarat, kokeile!</li>
    </ul>
  </li>
  <li>yhtäkkiä huomaat, että master:iin tekemäsi asiat eivät olekaan kovin hyviä ja haara:ssa on paljon parempaa tavaraa, haluaisitkin että haara:sta tulisi uusi master</li>
  <li>tämä onnistuu kun menet masteriin ja annat komennon <code>git reset --hard haara</code>
    <ul>
      <li>varmista että komento toimii oikein</li>
      <li>vanhan master-haarankaan tavarat eivät katoa mihinkään, jos niihin jostain syystä vielä halutaan palata</li>
      <li>vanhaan committiin palaaminen onnistuu, jos commitin id on tiedossa – jos ei, on olemassa <a href="http://stackoverflow.com/questions/4786972/list-of-all-git-commits">muutamia keinoja</a> sen selvittämiseksi</li>
    </ul>
  </li>
</ul>

<h3 id="3-ja-4-kahden-rastin-tehtävä-kps-yksin--ja-kaksinpeli">3. ja 4. (kahden rastin tehtävä) KPS yksin- ja kaksinpeli</h3>

<p><a href="https://github.com/ohjelmistotuotanto-hy/syksy2020">Kurssirepositorion</a> hakemistosta <em>koodi/viikko7/KiviPaperiSakset</em> löytyy tutun pelin tietokoneversio.</p>

<ul>
  <li>ohjelmassa on kolme pelimoodia: ihminen vs. ihminen, ihminen vs. yksinkertainen tekoäly ja ihminen vs. monimutkainen tekoäly</li>
  <li>koodi sisältää runsaat määrät copy pastea, muutenkaan oliosuunnittelun periaatteet eivät ole vielä alkuperäisellä ohjelmoijalla olleet hallussa</li>
  <li>poista koodista kaikki toisteisuus ja tee siitä rakenteellisesti materiaalin <a href="/osa4">osan 4</a> hengessä oikeaoppinen
    <ul>
      <li>pelaa-metodi tulee toteuttaa <a href="/osa4#suunnittelumalli-template-method-viikko-5">template-metodina</a></li>
      <li>sopivan peliolion (kaksinpeli, helppo yksinpeli, vaikea yksinpeli) luominen tulee toteuttaa staattisen tehdasmetodin avulla</li>
      <li>pääohjelmalla ei saa olla riippuvuuksia konkreettisiin pelin toteuttaviin luokkiin</li>
    </ul>
  </li>
</ul>

<p>Jos teet tehtävän mielestäsi kaikkien tyylisääntöjen mukaan, merkkaa 2 rastia, jos ratkaisu ei ole kaikin osin tyylikäs, merkkaa yksi rasti.</p>

<p><strong>Muista</strong> että voit suorittaa ohjelman ilman gradlen ikäviä välitulosteita antamalla komennolle <em>gradle run</em> seuraavat lisäoptiot:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gradle</span> <span class="o">-</span><span class="n">q</span> <span class="o">--</span><span class="n">console</span><span class="o">=</span><span class="n">plain</span> <span class="n">run</span>
</code></pre></div></div>

<p><strong>Vihje:</strong> eräs tapa lähteä liikkeelle on muodostaa yliluokka <code class="highlighter-rouge">KiviPaperiSakset</code>, joka sisältää kaikille kolmelle pelityypille yhteisen koodin:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">KiviPaperiSakset</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Scanner</span> <span class="n">scanner</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Scanner</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
    
    <span class="c1">// tämä on ns template metodi</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">pelaa</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">Tuomari</span> <span class="n">tuomari</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Tuomari</span><span class="o">();</span>
        <span class="c1">// ...</span>
        
        <span class="n">String</span> <span class="n">ekanSiirto</span> <span class="o">=</span> <span class="n">ensimmaisenSiirto</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"Toisen pelaajan siirto: "</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">tokanSiirto</span> <span class="o">=</span> <span class="n">toisenSiirto</span><span class="o">();</span>
        
        <span class="k">while</span> <span class="o">(</span><span class="n">onkoOkSiirto</span><span class="o">(</span><span class="n">ekanSiirto</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">onkoOkSiirto</span><span class="o">(</span><span class="n">tokanSiirto</span><span class="o">))</span> <span class="o">{</span>
           <span class="c1">// ...</span>
        <span class="o">}</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Kiitos!"</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">tuomari</span><span class="o">);</span>
    <span class="o">}</span>
    
    <span class="kd">protected</span> <span class="n">String</span> <span class="nf">ensimmaisenSiirto</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"Ensimmäisen pelaajan siirto: "</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">scanner</span><span class="o">.</span><span class="na">nextLine</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="c1">// tämä on abstrakti metodi sillä sen toteutus vaihtelee eri pelityypeissä</span>
    <span class="kd">abstract</span> <span class="kd">protected</span> <span class="n">String</span> <span class="nf">toisenSiirto</span><span class="o">();</span>
    
    <span class="kd">protected</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">onkoOkSiirto</span><span class="o">(</span><span class="n">String</span> <span class="n">siirto</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"k"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">siirto</span><span class="o">)</span> <span class="o">||</span> <span class="s">"p"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">siirto</span><span class="o">)</span> <span class="o">||</span> <span class="s">"s"</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">siirto</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Erilliset pelit sitten perivät abstraktin luokan ja erikoistavat sitä tarpidensa mukaan:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">KPSPelaajaVsPelaaja</span> <span class="kd">extends</span> <span class="n">KiviPaperiSakset</span> <span class="o">{</span>

    <span class="c1">// funktio pelaa peritääm</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="n">String</span> <span class="nf">toisenSiirto</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"Toisen pelaajan siirto: "</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">scanner</span><span class="o">.</span><span class="na">nextLine</span><span class="o">();</span>  
    <span class="o">}</span>

    <span class="c1">// ...</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="5-pull-requestin-mergeäminen-tätä-tehtävää-ei-lasketa-versionhallintatehtäväksi">5. Pull requestin mergeäminen (tätä tehtävää ei lasketa versionhallintatehtäväksi)</h3>

<p>Mergeä jokin miniprojektillesi tehty pull request (myös toisen miniprojektisi jäsenen tekemän pull requestin mergeäminen käy). Voit tehdä tehtävän yhdessä muiden miniprojektisi ryhmäläisten kanssa. Jos olet jo mergennyt pull requestin miniprojektiisi kurssin aikana, se riittää tämän tehtävä merkkaamiseksi.</p>

<p>Laita palautusrepositorioosi tiedosto <em>MERGE.md</em> ja sen sisällöksi linkki mergettyyn pullrequestiin.</p>

<p><strong>Vaihtoehtoinen tehtävä</strong></p>

<p>lue joku alla olevista ja tee siitä noin 0.25 sivun referaatti</p>

<ul>
  <li><a href="http://www.leanprimer.com/downloads/lean_primer.pdf">http://www.leanprimer.com/downloads/lean_primer.pdf</a>
    <ul>
      <li>aika pitkä, mutta kuuluu kokeen reading-listalle, joten erittäin hyödyllinen</li>
    </ul>
  </li>
  <li>Lauri Suomalaisen kandidaattityö <a href="https://www.cs.helsinki.fi/u/mluukkai/ohtu/suomalainen-kandi.pdf">Ohjelmistotuotantomenetelmien kehittyminen 1950-luvulta nykypäivään</a></li>
  <li>Tero Huomon kandidaattityö <a href="https://www.cs.helsinki.fi/u/mluukkai/ohtu/huomo-kandi.pdf">Ohjelmistoarkkitehtuurin sisällyttäminen ketteriin ohjelmistotuotantomenetelmiin</a></li>
  <li>Kasper Hirvikosken kandidaattityö <a href="https://www.cs.helsinki.fi/u/mluukkai/ohtu/hirvikoski-kandi.pdf">Metriikat käytänteiden tukena ohjelmiston laadun arvioimisessa</a></li>
  <li>Kenny Heinosen kandidaattityö <a href="https://www.cs.helsinki.fi/u/mluukkai/ohtu/heinononen-kandi.pdf">Ohjelmistoala ja ryhmätyöskentely</a></li>
  <li>Eero Laineen kandidaattityö <a href="https://www.cs.helsinki.fi/u/mluukkai/ohtu/laine-kandi.pdf">Johtaminen perinteisissä ja ketterissä ohjelmistotuotantoprojekteissa</a></li>
  <li>Esa Kortelaisen kandidaattityö <a href="https://www.cs.helsinki.fi/u/mluukkai/ohtu/kortelainen-kandi.pdf">Jatkuva eksperimentointi ohjelmistokehityksen tukena</a></li>
  <li>Kalle Ilveksen kandidaattityö <a href="https://www.cs.helsinki.fi/u/mluukkai/ohtu/ilves-kandi.pdf">Scrumban-menetelmän käyttö ketterässä ohjelmistokehityksessä</a></li>
</ul>

<h3 id="6-kurssipalaute">6. Kurssipalaute</h3>

<p>Anna kurssipalautetta WebOodissa. Voit antaa palautteen myös kokeen jälkeen. Rasti tähän tehtävään on lupaus että annat palautteen jossain vaiheessa.</p>

<h3 id="tehtävien-palautus">Tehtävien palautus</h3>

<p>Pushaa kaikki tekemäsi tehtävät (paitsi ne, joissa mainitaan, että tehtävää ei palauteta mihinkään) GitHubiin ja merkkaa tekemäsi tehtävät palautussovellukseen <a href="https://study.cs.helsinki.fi/stats/courses/ohtu2020">https://study.cs.helsinki.fi/stats/courses/ohtu2020</a></p>


  </div>

</article>
      </div>
    </main>

     <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading"></h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
             Ohjelmistotuotanto avoin yliopisto 2021 
          </li>
          <li>
            <a href="mailto:matti.luukkainen@helsinki.fi">matti.luukkainen@helsinki.fi</a>
          </li>
          <li>
            <a href="https://github.com/mluukkai"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">mluukkai</span></a>

          </li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
           
        </ul>
      </div>

      <div class="footer-col footer-col-3">
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">
            <img alt="Creative Commons -lisenssi" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png"
            />
          </a>
          <br/> Materiaali on lisensoitu
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons BY-NC-SA 3.0 -lisenssillä</a>.
      </div>
    </div>

  </div>

</footer>
  
  </body>

</html>
